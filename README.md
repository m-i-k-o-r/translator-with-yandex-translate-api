# Translator

Веб-приложение на языке Java для перевода набора слов на другой язык с использованием стороннего сервиса перевода	.

## Описание программы

Приложение принимает на вход строку, состоящую из набора слов, исходный язык и целевой язык в качестве параметров для перевода. В результате программа возвращает переведенную строку. Каждое слово переводится отдельно в нескольких потоках.
Приложение сохраняет в реляционную базу данных информацию о запросе: IP-адрес пользователя, входную строку для перевода и результат перевода.

## Реализация и технологии

-   **Фреймворк:** Spring/SpringBoot
-   **База данных:** PostgreSQL
-   **Миграция базы данных:** Flyway
-   **Доступ к базе данных:** JDBC
-   **Вызов внешней системы:** RestTemplate
-  **Сторонний сервис для перевода:** [Yandex Translate](https://yandex.cloud/ru/docs/translate/)

## Запуск приложения

Перед запуском в файле конфигурации `src/main/resources/application.yaml` необходимо ввести **идентификатор каталога** (в переменную api) и **токен** (в переменную authorization). 

Для запуска бэкенда необходим Docker. Нужно ввести команду  `docker-compose up` или просто запустить файл `docker-compose.yml`. Для тестирования можно использовать  Postman или  [Swagger](http://localhost:8080/swagger-ui/index.html).

## Ошибка

**Текст превышающий длину в 20 слов переведен не будет.**
**Пояснение:** так как каждое слово переводится по отдельности в нескольких потоках, то Yandex Translate не может обработать такое большое кол-во запросов и выводится ошибка:

    429 Too Many Requests:
    { 
        "code": 8, 
        "message": "limit on requests was exceeded. Limit: 20, Interval: 1s", 
        "details": [ { ... } ] 
    }

Ограничить кол-во одновременно работающих потоков до 10 не удалось